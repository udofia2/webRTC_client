{"version":3,"file":"settings-79243d1a.js","sources":["../../../../composables/useMediaSettings.ts","../../../../components/Icons/Close.vue","../../../../components/Icons/Mic_regular.vue","../../../../components/Icons/Speaker.vue","../../../../pages/settings.vue"],"sourcesContent":["export const useAudioOutputDevices = async (\n  audioOutputDevices: any,\n  selectedAudioOutputDevice: any\n) => {\n  try {\n    const devices = await navigator.mediaDevices.enumerateDevices();\n    if (audioOutputDevices?.value){\n      audioOutputDevices.value = devices.filter(\n        (device) => device.kind === \"audiooutput\"\n      );\n    }\n\n    if (audioOutputDevices?.value.length > 0) {\n      selectedAudioOutputDevice.value = audioOutputDevices.value[0].deviceId;\n    }\n  } catch (error) {\n    console.error(\"Error enumerating devices:\", error);\n  }\n};\n\n\nexport const useAudioDevices = async (audioDevices: any, selectedAudioDevice: any) => {\n  try {\n    const devices = await navigator.mediaDevices.enumerateDevices();\n    if(audioDevices?.value){\n      audioDevices.value = devices.filter(\n        (device) => device.kind === \"audioinput\"\n      );\n    }\n\n    if (audioDevices.value.length > 0) {\n      selectedAudioDevice.value = audioDevices.value[0].deviceId;\n    }\n  } catch (error) {\n    console.error(\"Error enumerating devices:\", error);\n  }\n};\n\nexport const useVideoDevices = async (videoDevices: any, selectedVideoDevice: any) => {\n  try {\n    const devices = await navigator.mediaDevices.enumerateDevices();\n\n    if (videoDevices?.value){\n      videoDevices.value = devices.filter(\n        (device) => device.kind === \"videoinput\"\n      );\n    }\n\n    if (videoDevices.value.length > 0) {\n      selectedVideoDevice.value = videoDevices.value[0].deviceId;\n    }\n  } catch (error) {\n    console.error(\"Error enumerating devices:\", error);\n  }\n};\n\nexport const useDeviceLabel = (\n  device: any,\n  videoDevices: any,\n  audioOutputDevices: any,\n  audioDevices: any\n) => {\n  if (device?.label) {\n    return device.label;\n  } else if (device?.kind === \"videoinput\" && videoDevices?.value) {\n    return \"Camera \" + (videoDevices.value.indexOf(device) + 1);\n  } else if (device?.kind === \"audioinput\" && audioOutputDevices?.value) {\n    return \"Microphone \" + (audioDevices.value.indexOf(device) + 1);\n  } else if (device?.kind === \"audiooutput\" && audioOutputDevices?.value) {\n    return \"Speaker \" + (audioOutputDevices?.value?.indexOf(device) + 1);\n  } else {\n    return \"Unnamed Device\";\n  }\n};\n\n// const getTrackLabel = (deviceId) => {\n//   const device = audioOutputDevices.find(\n//     (device) => device.deviceId === deviceId\n//   );\n//   if (device) {\n//     return new Promise((resolve) => {\n//       navigator.mediaDevices\n//         .getUserMedia({ audio: true })\n//         .then((stream) => {\n//           const tracks = stream.getTracks();\n//           const track = tracks.find(\n//             (track) => track.getSettings().deviceId === deviceId\n//           );\n//           resolve(track.label);\n//         })\n//         .catch((error) => console.error(\"Error getting user media:\", error));\n//     });\n//   } else {\n//     return \"Unnamed Device\";\n//   }\n// };\n\nexport const useLoadAudioOutput = async () => {\n  try {\n    const audioStream = await navigator.mediaDevices.getUserMedia({\n      audio: true,\n    });\n  } catch (error) {\n    console.error(\"Error accessing audio output device:\", error);\n  }\n};\n\n","\n<template>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"m12 12.708l-5.246 5.246q-.14.14-.344.15t-.364-.15t-.16-.354t.16-.354L11.292 12L6.046 6.754q-.14-.14-.15-.344t.15-.364t.354-.16t.354.16L12 11.292l5.246-5.246q.14-.14.345-.15q.203-.01.363.15t.16.354t-.16.354L12.708 12l5.246 5.246q.14.14.15.345q.01.203-.15.363t-.354.16t-.354-.16z\"></path></svg>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  name: 'MaterialSymbolsLightCloseRounded'\n}\n</script>","\n<template>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 36 36\"><path fill=\"currentColor\" d=\"M18 24c3.9 0 7-3.1 7-7V9c0-3.9-3.1-7-7-7s-7 3.1-7 7v8c0 3.9 3.1 7 7 7M13 9c0-2.8 2.2-5 5-5s5 2.2 5 5v8c0 2.8-2.2 5-5 5s-5-2.2-5-5z\" class=\"clr-i-outline clr-i-outline-path-1\"></path><path fill=\"currentColor\" d=\"M30 17h-2c0 5.5-4.5 10-10 10S8 22.5 8 17H6c0 6.3 4.8 11.4 11 11.9V32h-3c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1h-3v-3.1c6.2-.5 11-5.6 11-11.9\" class=\"clr-i-outline clr-i-outline-path-2\"></path><path fill=\"none\" d=\"M0 0h36v36H0z\"></path></svg>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  name: 'ClarityMicrophoneLine'\n}\n</script>","\n<template>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M5 15V9h4l5-5v16l-5-5zm11 1V7.95q1.125.525 1.813 1.625T18.5 12t-.687 2.4T16 16\"></path></svg>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  name: 'MaterialSymbolsVolumeDown'\n}\n</script>","<template>\n  <div class=\"w-full max-w-4xl p-4 bg-white mx-auto sm:p-6 md:p-8 mt-20 relative rounded-md text-white\">\n    <div class=\"settings-page flex bg-[#295935] rounded-md\">\n      <aside class=\"sidebar text-white w-48 p-4\">\n        <h2 class=\"text-lg font-semibold mb-6\">Settings</h2>\n        <ul class=\"space-y-4\">\n          <li class=\"flex justify-center items-center space-x-2 bg-[#295935e2] p-1 rounded-md\">\n            <IconsSetting />\n            <a href=\"#\" class=\"text-white hover:text-gray-200 text-sm\">Device Settings</a>\n          </li>\n        </ul>\n      </aside>\n      <div class=\"w-0.5 bg-[#ffffff31]\"></div>\n      <main class=\"main-content flex-1 p-8\">\n        <h1 class=\"text-xl font-semibold pl-6\">Device Settings</h1>\n        <button @click=\"closeSettings\" class=\"absolute top-16 right-24 p-2 text-white hover:bg-[#1e6d3d] rounded-full\">\n            <IconsClose />\n          </button>\n        <hr class=\"h-px bg-gray-400 border-0 dark:bg-gray-700  m-6\">\n        <div class=\"px-6\">\n          <form class=\"space-y-4\">\n            <div>\n              <label for=\"video-device\" class=\"block text-sm font-medium\">Video</label>\n              <div class=\"relative\">\n                <div class=\"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none\">\n                  <IconsCameraon />\n                </div>\n                <select id=\"video-device\" v-model=\"selectedVideoDevice\" class=\"ps-10 mt-1 block w-full px-3 py-2 border border-gray-400 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-[#295935] focus:border-[#295935] sm:text-sm bg-[#295935]\">\n                  <option value=\"\" disabled>Select a video device</option>\n                  <option v-for=\"device in videoDevices\" :key=\"device.deviceId\" :value=\"device.deviceId\">\n                    {{ useDeviceLabel(device,videoDevices, audioOutputDevices, audioDevices ) }}\n                  </option>\n                </select>\n              </div>\n            </div>\n            <div>\n              <label for=\"video-quality\" class=\"block text-sm font-medium\">Video Quality</label>\n              <select id=\"video-quality\" v-model=\"selectedVideoQuality\" class=\"mt-1 block w-full px-3 py-2 border border-gray-400 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-[#295935] focus:border-[#295935] sm:text-sm bg-[#295935]\">\n                <option value=\"\" disabled>Select a video quality</option>\n                <option v-for=\"quality in videoQualities\" :key=\"quality.value\" :value=\"quality.value\">\n                  {{ quality.label }}\n                </option>\n              </select>\n            </div>\n            <div>\n              <label for=\"audio-device\" class=\"block text-sm font-medium\">Microphone</label>\n              <div class=\"relative\">\n                   <div class=\"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none\">\n                  <IconsMic_regular />\n                </div>\n              <select id=\"audio-device\" v-model=\"selectedAudioDevice\" class=\"mt-1 ps-10 block w-full px-3 py-2 border border-gray-400 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-[#295935] focus:border-[#295935] sm:text-sm bg-[#295935]\">\n                <option value=\"\" disabled>Select an audio device</option>\n                <option v-for=\"device in audioDevices\" :key=\"device.deviceId\" :value=\"device.deviceId\">\n                  {{ useDeviceLabel(device,videoDevices, audioOutputDevices, audioDevices ) }}\n                </option>\n              </select>\n\n              </div>\n            </div>\n            <div>\n              <label for=\"audio-output-device\" class=\"block text-sm font-medium\">Speaker</label>\n              <div class=\"flex items-center space-x-2 mt-1\">\n                <div class=\"relative flex-1\">\n                  <div class=\"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none\">\n                    <IconsSpeaker />\n                  </div>\n                  <select id=\"audio-output-device\" v-model=\"selectedAudioOutputDevice\" class=\"ps-10 block w-full px-3 py-2 border border-gray-400 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-[#295935] focus:border-[#295935] sm:text-sm bg-[#295935]\">\n                    <option value=\"\" disabled>Select an audio output device</option>\n                    <option v-for=\"device in audioOutputDevices\" :key=\"device.deviceId\" :value=\"device.deviceId\">\n                      {{useDeviceLabel(device,videoDevices, audioOutputDevices, audioDevices ) }}\n                    </option>\n                  </select>\n                </div>\n                    <div class=\"relative\">\n                  <div class=\"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none\">\n                    <IconsSpeaker />\n                  </div>\n                <button @click=\"testAudioOutput\" class=\"px-4 ps-8 py-2 bg-[#295935] border border-gray-400 text-white rounded-md hover:bg-[#1e6d3d] focus:outline-none focus:ring-1 focus:ring-[#295935] sm:text-sm\">\n                  Test\n                </button>\n                </div>\n              </div>\n            </div>\n\n          </form>\n        </div>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { useAudioOutputDevices } from '~/composables/useMediaSettings';\n\n\nconst router = useRouter();\n\nconst videoDevices = ref([]);\nconst selectedVideoDevice = ref('');\nconst selectedVideoQuality = ref('');\nconst audioDevices = ref([]);\nconst selectedAudioDevice = ref('');\nconst audioOutputDevices = ref([]);\nconst selectedAudioOutputDevice = ref('');\nconst audioRef = ref(null);\n\nconst videoQualities = [\n  { value: 'low', label: 'Low' },\n  { value: 'medium', label: 'Medium' },\n  { value: 'high', label: 'High' }\n];\n\n\nconst testAudioOutput = async (event) => {\n  event.preventDefault();\n  try {\n    const audioStream = await navigator.mediaDevices.getUserMedia({ audio: true });\n    audioRef.value = new Audio('./button-198922.mp3');\n    audioRef.value.play();\n  } catch (error) {\n    console.error('Error accessing audio output device:', error);\n  }\n};\n\nconst closeSettings = () => {\n  if (audioRef.value) {\n    audioRef.value.pause();\n    audioRef.value = null;\n  }\n  navigateTo('/')\n};\n\nonMounted(async () => {\n  useLoadAudioOutput()\n  await useAudioOutputDevices(audioOutputDevices, selectedAudioOutputDevice)\n  await useAudioDevices(audioDevices, selectedAudioDevice)\n  await useVideoDevices(videoDevices, selectedVideoDevice)\n});\n\n</script>\n\n"],"names":["_sfc_ssrRender","_ssrRenderAttrs","_mergeProps"],"mappings":";;;;;;;;;;;;;;;;;;AAwDO,MAAM,iBAAiB,CAC5B,QACA,cACA,oBACA,iBACG;;AACH,MAAI,iCAAQ,OAAO;AACjB,WAAO,OAAO;AAAA,EACL,YAAA,iCAAQ,UAAS,iBAAgB,6CAAc,QAAO;AAC/D,WAAO,aAAa,aAAa,MAAM,QAAQ,MAAM,IAAI;AAAA,EAChD,YAAA,iCAAQ,UAAS,iBAAgB,yDAAoB,QAAO;AACrE,WAAO,iBAAiB,aAAa,MAAM,QAAQ,MAAM,IAAI;AAAA,EACpD,YAAA,iCAAQ,UAAS,kBAAiB,yDAAoB,QAAO;AACtE,WAAO,gBAAc,8DAAoB,UAApB,mBAA2B,QAAQ,WAAU;AAAA,EAAA,OAC7D;AACE,WAAA;AAAA,EACT;AACF;ACnEA,MAAe,cAAA;AAAA,EACb,MAAM;AACR;AANY,SAAAA,iBAAC,MAA4B,OAAA,SAAA,QAAA,QAAA,QAAA,OAAA,UAAA;AAAC,QAAA,OAAMC,eAAKC,WAAA;AAAA,IAAC,OAAM;AAAA,IAAO,OAAO;AAAA,IAAA,QAAA;AAAA;;;;;;;;;;ACI1E,MAAe,cAAA;AAAA,EACb,MAAM;AACR;AANY,SAAAF,iBAAC,MAA4B,OAAA,SAAA,QAAA,QAAA,QAAA,OAAA,UAAA;AAAC,QAAA,OAAMC,eAAKC,WAAA;AAAA,IAAC,OAAM;AAAA,IAAO,OAAO;AAAA,IAAA,QAAA;AAAA;;;;;;;;;;ACI1E,MAAe,cAAA;AAAA,EACb,MAAM;AACR;AANY,SAAA,eAAC,MAA4B,OAAA,SAAA,QAAA,QAAA,QAAA,OAAA,UAAA;AAAC,QAAA,OAAMD,eAAKC,WAAA;AAAA,IAAC,OAAM;AAAA,IAAO,OAAO;AAAA,IAAA,QAAA;AAAA;;;;;;;;;;;;;;AC6F3D,cAAY;AAE3B,UAAM,eAAe,IAAI,CAAA,CAAE;AAC3B,UAAM,sBAAsB,IAAI,EAAE;AAClC,UAAM,uBAAuB,IAAI,EAAE;AACnC,UAAM,eAAe,IAAI,CAAA,CAAE;AAC3B,UAAM,sBAAsB,IAAI,EAAE;AAClC,UAAM,qBAAqB,IAAI,CAAA,CAAE;AACjC,UAAM,4BAA4B,IAAI,EAAE;AACvB,QAAI,IAAI;AAEzB,UAAM,iBAAiB;AAAA,MACrB,EAAE,OAAO,OAAO,OAAO,MAAO;AAAA,MAC9B,EAAE,OAAO,UAAU,OAAO,SAAU;AAAA,MACpC,EAAE,OAAO,QAAQ,OAAO,OAAQ;AAAA,IAClC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}